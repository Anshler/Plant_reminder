WindowManager:
    LoginScreen:
        id: login_screen
    MasterScreen:
        id: master_screen
    #SettingScreen:

<LoginScreen>:
    id: login_screen
    name: 'login_screen'
    canvas:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            pos: self.pos
            size: self.size

    FloatLayout: # Title
        size_hint: None,0.12
        width: self.height*4
        pos_hint: {'x': 0.075, 'top': 0.975}

        Label:
            id: welcome
            text: 'WELCOME!'
            color: 51/255, 54/255, 71/255, 1
            pos_hint: {'x': 0, 'center_y': 1}
            text_size: self.size
            font_size: self.parent.height*0.25
            bold: True
        Label:
            id: welcome2
            text: 'Welcome to a house of indoor plant lovers'
            color: 124/255, 130/255, 161/255,1
            pos_hint: {'x': 0, 'y': 0.25}
            text_size: self.size
            font_size: self.parent.height*0.15



    FloatLayout: # Authentication
        size_hint: None, 0.32
        width: self.height*1.35
        pos_hint: {'center_x':0.5,'y':0.5}

        FloatLayout:
            pos_hint: {'center_x':0.5,'center_y':0.9}
            Image:
                source: 'layout/img/usrnm.png'
                size_hint: 1,None
                height: self.width/6
                pos_hint: {'center_x':0.5,'center_y':0.5}
                color: 1, 1, 1, 1  # Set image color to full opacity
            MDTextField:
                id: username
                hint_text: 'google account or username'
                #color_mode: 'accent'
                size_hint: 0.7,None
                height: self.width/6
                pos_hint: {'center_x':0.5,'center_y':0.5}
                text_size: self.size
                font_size: self.width/10

        FloatLayout:
            pos_hint: {'center_x':0.5, 'center_y':0.6}
            Image:
                source: 'layout/img/psswrd.png'
                size_hint: 1,None
                height: self.width/6
                pos_hint: {'center_x':0.5,'center_y':0.5}
                color: 1, 1, 1, 1  # Set image color to full opacity
            MDTextField:
                id: password
                hint_text: 'case sensitive'
                #color_mode: 'accent'
                password: True
                size_hint: 0.7,None
                height: self.width/6
                pos_hint: {'center_x':0.5,'center_y':0.5}
                text_size: self.size
                font_size: self.width/10

        Button:
            id: login_button
            name: 'login_button'
            size_hint: 1,None
            height: self.width/6
            pos_hint: {'center_x':0.5,'y':0}
            background_color: 0,0,0,0
            on_press: root.press_login_animation(self)
            on_release: root.login(self)
            Image:
                id: login_button_image
                color: 1, 1, 1, 1  # Set image color to full opacity
                source: 'layout/img/login.png'
                width: self.parent.width
                height: self.parent.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                allow_stretch: True
                color: 1, 1, 1, 1  # Set image color to full opacity

        Button:
            id: forget_password
            name: 'forget_password'
            text: 'forget password?'
            size_hint: 0.4,0.1
            pos_hint: {'right':1,'center_y':0.4}
            font_size: self.height*0.6
            color: 124/255, 130/255, 161/255,1
            background_color: 0,0,0,0
            on_press:
                root.press_button(self)
            on_release:
                root.release_button(self)
        Label:
            id: wrong
            name: 'wrong'
            text: 'username or password incorrect.'
            size_hint: 0.4,0.1
            pos_hint: {'x':0.12,'center_y':0.4}
            font_size: self.height*0.6
            color: 0,0,0,0
            background_color: 0,0,0,0

    Label:
        id: or
        text: 'Or'
        pos_hint: {'center_x': 0.5, 'center_y': 0.4}
        font_size: self.parent.height*0.03
        color: 124/255, 130/255, 161/255,1

    Button:
        id: sign_up
        name: 'sign_up'
        text: 'Don\'t have an account? Sign Up'
        size_hint: 0.7,0.05
        pos_hint: {'center_x':0.5,'center_y':0.125}
        font_size: self.height*0.5
        color: 51/255, 54/255, 71/255, 1
        background_color: 0,0,0,0
        on_press:
            root.press_button(self)
        on_release:
            root.release_button(self)

    FloatLayout: # Signin other method
        size_hint: None, 0.32
        width: self.height*1.35
        pos_hint: {'center_x':0.5,'center_y':0.175}

        Button:
            id: login_google
            name: 'login_google'
            size_hint: 1,None
            height: self.width/6
            pos_hint: {'center_x':0.5,'center_y':0.9}
            background_color: 0,0,0,0
            on_press:
                root.press_other_login(self)
            on_release:
                root.release_other_login(self)
            Image:
                id: login_google_image
                source: 'layout/img/signin_google.png'
                width: self.parent.width
                height: self.parent.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity

        Button:
            id: login_facebook
            name: 'login_facebook'
            size_hint: 1,None
            height: self.width/6
            pos_hint: {'center_x':0.5,'center_y':0.6}
            background_color: 0,0,0,0
            on_press:
                root.press_other_login(self)
            on_release:
                root.release_other_login(self)
            Image:
                id: login_facebook_image
                source: 'layout/img/signin_facebook.png'
                width: self.parent.width
                height: self.parent.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity



<MasterScreen>:
    id: master_screen
    name: 'master_screen'
    Button:
        id: swipe
        background_color: 0,0,0,0
        on_release: root.swipe_home_buttons(self)
        collide_children: False
    MainPagesManager:
        id:main_pages
    UtilityBars:
        id:utility_bars



<MainPagesManager>:
    id:main_pages
    name: 'main_pages'
    HomePage:
    PlantProfilePage:
    CalendarPage:
    CommunityPage:
    WikiPage:
    ShoppingPage:


<HomePage>:
    name: 'home'
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'layout/img/background.png'

    Button:
        text: 'home page'
        size_hint: 0.8,0.25
        pos_hint: {'center_x': 0.5, 'center_y':0.5}
        background_color: 0,0,0,0.5
        on_release: root.test(self)
        collide_children: False
<PlantProfilePage>:
    name: 'plant_profile'
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'layout/img/background2.png'
<CalendarPage>:
    name: 'calendar'
    Image:
        source: 'layout/img/background3.png'
        keep_ratio: True
        color: 1, 1, 1, 1  # Set image color to full opacity
<CommunityPage>:
    name: 'community'
    Image:
        source: 'layout/img/background4.png'
        keep_ratio: True
        color: 1, 1, 1, 1  # Set image color to full opacity

<WikiPage>:
    name: 'wiki'
    Image:
        source: 'layout/img/background5.png'
        keep_ratio: True
        color: 1, 1, 1, 1  # Set image color to full opacity
<ShoppingPage>:
    name: 'shopping'
    Image:
        source: 'layout/img/background6.png'
        keep_ratio: True
        color: 1, 1, 1, 1  # Set image color to full opacity

<UtilityBars>:
    name: 'utility_bars'
    FloatLayout: # upper bar, mainly for setting
        Button: # setting button
            size_hint: 1/6,None
            height: self.width
            pos_hint: {'center_x': 11/12}
            center_y: self.parent.height-self.parent.width+self.center_x
            background_color: 0,0,0,0
            on_release:
                root.open_setting(self)

            FloatLayout:
                height: self.parent.height*0.75
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                canvas:
                    Color:
                        rgba: 176/255, 211/255, 141/255, 1
                    Ellipse:
                        pos: self.pos
                        size: self.size
            Image:
                source: 'layout/img/setting_icon.png'
                height: self.parent.height*0.8
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity

    FloatLayout: # bottom bar
        orientation: 'horizontal'
        size_hint: 1, None
        height: self.width*1.25/6
        pos_hint: {'x': 0, 'y': 0}

        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        FloatLayout: # Selection highlight for home buttons
            id:home_highlight
            size_hint: 0.9/6, None
            height: self.width
            pos_hint: {'center_x': 1.00001/12, 'center_y': 0.5}
            canvas:
                Color:
                    rgba: 176/255, 211/255, 141/255, 1
                Rectangle:
                    pos: self.pos
                    size: self.size

        # All the selection buttons
        Button:
            id: home
            name: 'home'
            size_hint: 1/6, None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': 1.00001/12, 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/home_button.png'
                height: self.parent.height*0.6
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                allow_stretch: False
                keep_ratio: False
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: plant_profile
            name: 'plant_profile'
            size_hint: 1/6, None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': 3/12, 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/plant_button.png'
                height: self.parent.height*0.6
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: calendar
            name: 'calendar'
            size_hint: 1/6, None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': 5/12, 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/calendar_button.png'
                height: self.parent.height*0.6
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: community
            name: 'community'
            size_hint: 1/6, None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': 7/12, 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/community_button.png'
                height: self.parent.height*0.6
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: wiki
            name: 'wiki'
            size_hint: 1/6, None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': 9/12, 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/wiki_button.png'
                height: self.parent.height*0.6
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: shopping
            name: 'shopping'
            size_hint: 1/6, None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': 11/12, 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/shopping_button.png'
                height: self.parent.height*0.6
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity