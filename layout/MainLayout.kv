MasterScreen:
    id: master
    Button:
        id: swipe
        background_color: 0,0,0,0
        on_release: root.swipe_home_buttons(self)
        collide_children: False
    MainPagesManager:
        id:main_pages
    UtilityBars:
        id:utility_bars



<MainPagesManager>:
    id:main_pages
    name: 'main_pages'
    HomePage:
    PlantProfilePage:
    CalendarPage:
    CommunityPage:
    WikiPage:
    ShoppingPage:


<HomePage>:
    name: 'home'
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'layout/img/background.png'
    Button:
        text: 'home page'
        size_hint: 0.8,0.25
        pos_hint: {'center_x': 0.5, 'center_y':0.5}
        background_color: 0,0,0,0.5
        on_release: root.test(self)
        collide_children: False
<PlantProfilePage>:
    name: 'plant_profile'
    canvas:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'layout/img/background2.png'
<CalendarPage>:
    name: 'calendar'
    Image:
        source: 'layout/img/background3.png'
        keep_ratio: True
        color: 1, 1, 1, 1  # Set image color to full opacity
<CommunityPage>:
    name: 'community'
    Image:
        source: 'layout/img/background4.png'
        keep_ratio: True
        color: 1, 1, 1, 1  # Set image color to full opacity

<WikiPage>:
    name: 'wiki'
    Image:
        source: 'layout/img/background5.png'
        keep_ratio: True
        color: 1, 1, 1, 1  # Set image color to full opacity
<ShoppingPage>:
    name: 'shopping'
    Image:
        source: 'layout/img/background6.png'
        keep_ratio: True
        color: 1, 1, 1, 1  # Set image color to full opacity

<UtilityBars>:
    name: 'utility_bars'
    FloatLayout: # upper bar, mainly for setting
        Button: # setting button
            size_hint: float(1/6),None
            height: self.width
            pos_hint: {'center_x': float(11/12)}
            center_y: float(self.parent.height-self.parent.width+self.center_x)
            background_color: 0,0,0,0
            on_release:
                root.open_setting(self)

            FloatLayout:
                height: float(self.parent.height*0.75)
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                canvas:
                    Color:
                        rgba: float(176/255), float(211/255), float(141/255), 1
                    Ellipse:
                        pos: self.pos
                        size: self.size
            Image:
                source: 'layout/img/setting_icon.png'
                height: float(self.parent.height*0.8)
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity

    FloatLayout: # bottom bar
        orientation: 'horizontal'
        size_hint: 1, None
        height: float(self.width*1.25/6)
        pos_hint: {'x': 0, 'y': 0}

        canvas:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        FloatLayout: # Selection highlight for home buttons
            id:home_highlight
            size_hint: float(0.9/6), None
            height: self.width
            pos_hint: {'center_x': float(1.00001/12), 'center_y': 0.5}
            canvas:
                Color:
                    rgba: float(176/255), float(211/255), float(141/255), 1
                Rectangle:
                    pos: self.pos
                    size: self.size

        # All the selection buttons
        Button:
            id: home
            name: 'home'
            size_hint: float(1/6), None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': float(1.00001/12), 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/home_button.png'
                height: float(self.parent.height*0.6)
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                allow_stretch: False
                keep_ratio: False
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: plant_profile
            name: 'plant_profile'
            size_hint: float(1/6), None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': float(3/12), 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/plant_button.png'
                height: float(self.parent.height*0.6)
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: calendar
            name: 'calendar'
            size_hint: float(1/6), None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': float(5/12), 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/calendar_button.png'
                height: float(self.parent.height*0.6)
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: community
            name: 'community'
            size_hint: float(1/6), None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': float(7/12), 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/community_button.png'
                height: float(self.parent.height*0.6)
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: wiki
            name: 'wiki'
            size_hint: float(1/6), None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': float(9/12), 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/wiki_button.png'
                height: float(self.parent.height*0.6)
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity
        Button:
            id: shopping
            name: 'shopping'
            size_hint: float(1/6), None  # Make width fixed
            height: self.width  # Make width equal to height
            pos_hint: {'center_x': float(11/12), 'center_y':0.5}
            background_color: 0, 0, 0, 0
            on_release:
                root.home_buttons_animation(self)
            Image:
                source: 'layout/img/shopping_button.png'
                height: float(self.parent.height*0.6)
                width: self.height
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                color: 1, 1, 1, 1  # Set image color to full opacity